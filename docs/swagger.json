{"openapi":"3.0.0","info":{"title":"BookStore API","version":"1.0.0","description":"BookStore API swagger docs"},"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"sha256"}},"responses":{"NoContent":{"description":"No Content (Corresponding table may has no records for example)"},"Unauthorized":{"description":"Unauthorized Access (Due to expired/empty access token for example)","content":{"application/json":{"schema":{"type":"object","properties":{"errors":{"type":"array","items":{"type":"object","properties":{"message":{"type":"string","example":"E_UNAUTHORIZED_ACCESS: Unauthorized access"}}}}}}}}},"NotFound":{"description":"Not Found (Record doesn't exist or bad record id used)","content":{"application/json":{"schema":{"type":"object","properties":{"errors":{"type":"array","items":{"type":"object","properties":{"message":{"type":"string","example":"Requested record not found"}}}}}}}}},"InternalServerError":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Unknown Server Error"}}}}}},"ServiceUnavailable":{"description":"Service Unavailable","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Service Unavailable, Try Again Later"}}}}}}},"schemas":{"Author":{"description":"API representation of Author model","type":"object","properties":{"id":{"type":"string","readOnly":true},"name":{"type":"string"},"biography":{"type":"string"},"created_at":{"type":"string","format":"date-time","readOnly":true},"updated_at":{"type":"string","format":"date-time","readOnly":true}}},"Book":{"description":"API representation of Book model","type":"object","properties":{"id":{"type":"string","readOnly":true},"title":{"type":"string"},"author":{"type":"string"},"isbn":{"type":"string"},"description":{"type":"string"},"price":{"type":"number","format":"double"},"quantity":{"type":"integer"},"created_at":{"type":"string","format":"date-time","readOnly":true},"updated_at":{"type":"string","format":"date-time","readOnly":true}}},"User":{"description":"API representation of User model","type":"object","properties":{"id":{"type":"string","readOnly":true},"name":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"role":{"type":"string"},"rememberMeToken":{"type":"string","nullable":true},"created_at":{"type":"string","format":"date-time","readOnly":true},"updated_at":{"type":"string","format":"date-time","readOnly":true}}}}},"paths":{"/authors/":{"get":{"summary":"Lists available Author records","tags":["Authors"],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"List of Author Records","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Author"}}}}},"204":{"$ref":"#/components/responses/NoContent"},"401":{"$ref":"#/components/responses/Unauthorized"},"500":{"$ref":"#/components/responses/InternalServerError"}}},"post":{"summary":"Add New Author Endpoint","tags":["Authors"],"requestBody":{"description":"Author Payload","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Author"}}}},"security":[{"bearerAuth":[]}],"responses":{"201":{"description":"Author created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Author"}}}},"401":{"$ref":"#/components/responses/Unauthorized"},"409":{"description":"Author Already Exists","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Author Already Exists"}}}}}},"500":{"$ref":"#/components/responses/InternalServerError"}}}},"/authors/{id}":{"get":{"summary":"Get an Author record by ID","tags":["Authors"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"id of the requested Author record"}],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"The Requested Author Record","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Author"}}}},"401":{"$ref":"#/components/responses/Unauthorized"},"404":{"$ref":"#/components/responses/NotFound"},"500":{"$ref":"#/components/responses/InternalServerError"}}},"put":{"summary":"Modify An Existing Author Record Endpoint","tags":["Authors"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"id of the requested Author record"}],"requestBody":{"description":"Author Payload","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Author"}}}},"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Author record updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Author"}}}},"401":{"$ref":"#/components/responses/Unauthorized"},"404":{"$ref":"#/components/responses/NotFound"},"500":{"$ref":"#/components/responses/InternalServerError"}}},"delete":{"summary":"Delete Author Record Endpoint","tags":["Authors"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"id of the requested Author record"}],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Author record deleted successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Deleted Successfully"}}}}}},"401":{"$ref":"#/components/responses/Unauthorized"},"404":{"$ref":"#/components/responses/NotFound"},"409":{"description":"Removing an author with existing books records (foreign key constraint) which must be removed first","content":{"application/json":{"schema":{"oneOf":[{"type":"object","properties":{"message":{"type":"string","example":"Attempting to remove an author with corresponding book records, remove books first"}}}]}}}},"500":{"$ref":"#/components/responses/InternalServerError"}}}},"/books/":{"get":{"summary":"Lists available Book records","tags":["Books"],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"List of Book Records","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Book"}}}}},"204":{"$ref":"#/components/responses/NoContent"},"401":{"$ref":"#/components/responses/Unauthorized"},"500":{"$ref":"#/components/responses/InternalServerError"}}},"post":{"summary":"Add New Book Endpoint","tags":["Books"],"requestBody":{"description":"Book Payload","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Book"}}}},"security":[{"bearerAuth":[]}],"responses":{"201":{"description":"Book created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Book"}}}},"401":{"$ref":"#/components/responses/Unauthorized"},"409":{"description":"Book Already Exists","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Book"}}}},"500":{"$ref":"#/components/responses/InternalServerError"}}}},"/books/{id}":{"get":{"summary":"Get a Book record by ID","tags":["Books"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"id of the requested Book record"}],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"The Requested Book Record","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Book"}}}},"401":{"$ref":"#/components/responses/Unauthorized"},"404":{"$ref":"#/components/responses/NotFound"},"500":{"$ref":"#/components/responses/InternalServerError"}}},"put":{"summary":"Modify An Existing Book Record Endpoint","tags":["Books"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"id of the requested Book record"}],"requestBody":{"description":"Book Payload","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Book"}}}},"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Book record updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Book"}}}},"401":{"$ref":"#/components/responses/Unauthorized"},"404":{"$ref":"#/components/responses/NotFound"},"500":{"$ref":"#/components/responses/InternalServerError"}}}},"/book/{id}":{"delete":{"summary":"Delete Book Record Endpoint","tags":["Books"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"id of the requested Book record"}],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Book record deleted successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Deleted Successfully"}}}}}},"401":{"$ref":"#/components/responses/Unauthorized"},"404":{"$ref":"#/components/responses/NotFound"},"500":{"$ref":"#/components/responses/InternalServerError"}}}},"/users/login":{"post":{"summary":"User Login Endpoint","tags":["Users"],"requestBody":{"description":"User Login Credentials Payload","required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"},"expires_at":{"type":"string","format":"date-time"}}}}}},"responses":{"200":{"description":"Login Successful","content":{"application/json":{"schema":{"type":"object","properties":{"type":{"type":"string","example":"bearer"},"token":{"type":"string"}}}}}},"401":{"description":"Unauthorized (Due to invalid credentials for example)"},"503":{"$ref":"#/components/responses/ServiceUnavailable"}}}},"/users/logout":{"post":{"summary":"User Logout Endpoint","tags":["Users"],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"Logout Successful","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Logged Out Successfully"}}}}}},"401":{"$ref":"#/components/responses/Unauthorized"},"500":{"$ref":"#/components/responses/InternalServerError"}}}},"/users/add":{"post":{"summary":"Add New User Endpoint","tags":["Users"],"requestBody":{"description":"User Payload","required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"User created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"User Created Successfully"}}}}}},"401":{"$ref":"#/components/responses/Unauthorized"},"409":{"description":"User Already Exists","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"User Already Exists"}}}}}},"500":{"$ref":"#/components/responses/InternalServerError"},"503":{"$ref":"#/components/responses/ServiceUnavailable"}}}}},"tags":[]}